THREE.OrbitControls=function(t,e){this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var o,n,a=this,i=new THREE.Vector2,s=new THREE.Vector2,c=new THREE.Vector2,r=new THREE.Vector2,h=new THREE.Vector2,u=new THREE.Vector2,d=new THREE.Vector3,l=new THREE.Vector3,m=new THREE.Vector2,p=new THREE.Vector2,E=new THREE.Vector2,b=0,f=0,T=1,y=new THREE.Vector3,O=new THREE.Vector3,v=new THREE.Quaternion,g={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},R=g.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var H=new THREE.Quaternion().setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),M=H.clone().inverse(),P={type:"change"},j={type:"start"},N={type:"end"};function L(){return 2*Math.PI/60/60*a.autoRotateSpeed}function w(){return Math.pow(.95,a.zoomSpeed)}function A(t){if(!1!==a.enabled){t.preventDefault();var e=a.domElement===document?a.domElement.body:a.domElement;if(R===g.ROTATE){if(!0===a.noRotate)return;s.set(t.clientX,t.clientY),c.subVectors(s,i),a.rotateLeft(2*Math.PI*c.x/e.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*c.y/e.clientHeight*a.rotateSpeed),i.copy(s)}else if(R===g.DOLLY){if(!0===a.noZoom)return;p.set(t.clientX,t.clientY),E.subVectors(p,m),E.y>0?a.dollyIn():E.y<0&&a.dollyOut(),m.copy(p)}else if(R===g.PAN){if(!0===a.noPan)return;h.set(t.clientX,t.clientY),u.subVectors(h,r),a.pan(u.x,u.y),r.copy(h)}R!==g.NONE&&a.update()}}function x(){!1!==a.enabled&&(document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",x,!1),a.dispatchEvent(N),R=g.NONE)}function k(t){if(!1!==a.enabled&&!0!==a.noZoom&&R===g.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?a.dollyOut():e<0&&a.dollyIn(),a.update(),a.dispatchEvent(j),a.dispatchEvent(N)}}this.rotateLeft=function(t){void 0===t&&(t=L()),f-=t},this.rotateUp=function(t){void 0===t&&(t=L()),b-=t},this.panLeft=function(t){var e=this.object.matrix.elements;d.set(e[0],e[1],e[2]),d.multiplyScalar(-t),y.add(d)},this.panUp=function(t){var e=this.object.matrix.elements;d.set(e[4],e[5],e[6]),d.multiplyScalar(t),y.add(d)},this.pan=function(t,e){var o=a.domElement===document?a.domElement.body:a.domElement;if(a.object instanceof THREE.PerspectiveCamera){var n=a.object.position.clone().sub(a.target).length();n*=Math.tan(a.object.fov/2*Math.PI/180),a.panLeft(2*t*n/o.clientHeight),a.panUp(2*e*n/o.clientHeight)}else a.object instanceof THREE.OrthographicCamera?(a.panLeft(t*(a.object.right-a.object.left)/o.clientWidth),a.panUp(e*(a.object.top-a.object.bottom)/o.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=w()),a.object instanceof THREE.PerspectiveCamera?T/=t:a.object instanceof THREE.OrthographicCamera?(a.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),a.object.updateProjectionMatrix(),a.dispatchEvent(P)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){void 0===t&&(t=w()),a.object instanceof THREE.PerspectiveCamera?T*=t:a.object instanceof THREE.OrthographicCamera?(a.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),a.object.updateProjectionMatrix(),a.dispatchEvent(P)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(){var t=this.object.position;l.copy(t).sub(this.target),l.applyQuaternion(H),o=Math.atan2(l.x,l.z),n=Math.atan2(Math.sqrt(l.x*l.x+l.z*l.z),l.y),this.autoRotate&&R===g.NONE&&this.rotateLeft(L()),o+=f,n+=b,o=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,o)),n=Math.max(1e-6,Math.min(Math.PI-1e-6,n=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,n))));var e=l.length()*T;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(y),l.x=e*Math.sin(n)*Math.sin(o),l.y=e*Math.cos(n),l.z=e*Math.sin(n)*Math.cos(o),l.applyQuaternion(M),t.copy(this.target).add(l),this.object.lookAt(this.target),f=0,b=0,T=1,y.set(0,0,0),(O.distanceToSquared(this.object.position)>1e-6||8*(1-v.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(P),O.copy(this.object.position),v.copy(this.object.quaternion))},this.reset=function(){R=g.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(P),this.update()},this.getPolarAngle=function(){return n},this.getAzimuthalAngle=function(){return o},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",function(t){if(!1!==a.enabled){if(t.preventDefault(),t.button===a.mouseButtons.ORBIT){if(!0===a.noRotate)return;R=g.ROTATE,i.set(t.clientX,t.clientY)}else if(t.button===a.mouseButtons.ZOOM){if(!0===a.noZoom)return;R=g.DOLLY,m.set(t.clientX,t.clientY)}else if(t.button===a.mouseButtons.PAN){if(!0===a.noPan)return;R=g.PAN,r.set(t.clientX,t.clientY)}R!==g.NONE&&(document.addEventListener("mousemove",A,!1),document.addEventListener("mouseup",x,!1),a.dispatchEvent(j))}},!1),this.domElement.addEventListener("mousewheel",k,!1),this.domElement.addEventListener("DOMMouseScroll",k,!1),this.domElement.addEventListener("touchstart",function(t){if(!1!==a.enabled){switch(t.touches.length){case 1:if(!0===a.noRotate)return;R=g.TOUCH_ROTATE,i.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===a.noZoom)return;R=g.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,n=Math.sqrt(e*e+o*o);m.set(0,n);break;case 3:if(!0===a.noPan)return;R=g.TOUCH_PAN,r.set(t.touches[0].pageX,t.touches[0].pageY);break;default:R=g.NONE}R!==g.NONE&&a.dispatchEvent(j)}},!1),this.domElement.addEventListener("touchend",function(){!1!==a.enabled&&(a.dispatchEvent(N),R=g.NONE)},!1),this.domElement.addEventListener("touchmove",function(t){if(!1!==a.enabled){t.preventDefault(),t.stopPropagation();var e=a.domElement===document?a.domElement.body:a.domElement;switch(t.touches.length){case 1:if(!0===a.noRotate||R!==g.TOUCH_ROTATE)return;s.set(t.touches[0].pageX,t.touches[0].pageY),c.subVectors(s,i),a.rotateLeft(2*Math.PI*c.x/e.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*c.y/e.clientHeight*a.rotateSpeed),i.copy(s),a.update();break;case 2:if(!0===a.noZoom||R!==g.TOUCH_DOLLY)return;var o=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,d=Math.sqrt(o*o+n*n);p.set(0,d),E.subVectors(p,m),E.y>0?a.dollyOut():E.y<0&&a.dollyIn(),m.copy(p),a.update();break;case 3:if(!0===a.noPan||R!==g.TOUCH_PAN)return;h.set(t.touches[0].pageX,t.touches[0].pageY),u.subVectors(h,r),a.pan(u.x,u.y),r.copy(h),a.update();break;default:R=g.NONE}}},!1),window.addEventListener("keydown",function(t){if(!1!==a.enabled&&!0!==a.noKeys&&!0!==a.noPan)switch(t.keyCode){case a.keys.UP:a.pan(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:a.pan(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:a.pan(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:a.pan(-a.keyPanSpeed,0),a.update()}},!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;
//# sourceMappingURL=index.98dba674.js.map
